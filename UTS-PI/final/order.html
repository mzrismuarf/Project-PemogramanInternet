<!DOCTYPE html>
<html lang="en">

<head>
    <!-- head content... -->
    <link rel="stylesheet" href="css/order.css">
    <link rel="stylesheet" href="css/popup.css">
    <script type="text/javascript" src="js/popup.js"></script>


</head>

<body>
    <div class="MizarIsmuArief_overlay" id="MizarIsmuArief_overlay"></div>
    <div class="MizarIsmuArief_img-form">
        <!-- <img class="img-center" src="/images/login/43a.png" alt=""> -->
        <img class="MizarIsmuArief_img-center" src="images/order/1.png" alt="">
    </div>
    <div class="MizarIsmuArief_svg-icon-order">
        <svg fill="#4D4D4D" height="200px" width="200px" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 50 50" xml:space="preserve"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <g> <path d="M13.5,27c3.23,0,6.5-1.202,6.5-3.5S16.73,20,13.5,20S7,21.202,7,23.5S10.27,27,13.5,27z M13.5,22 c2.923,0,4.5,1.064,4.5,1.5S16.423,25,13.5,25S9,23.936,9,23.5S10.577,22,13.5,22z"></path> <path d="M6,37c-0.552,0-1,0.447-1,1v6c0,0.553,0.448,1,1,1s1-0.447,1-1v-6C7,37.447,6.552,37,6,37z"></path> <path d="M6,31c-0.552,0-1,0.447-1,1v2.997c0,0.553,0.448,1,1,1s1-0.447,1-1V32C7,31.447,6.552,31,6,31z"></path> <path d="M31,37c-0.552,0-1,0.447-1,1v6c0,0.553,0.448,1,1,1s1-0.447,1-1v-6C32,37.447,31.552,37,31,37z"></path> <path d="M31,31c-0.552,0-1,0.447-1,1v2.997c0,0.553,0.448,1,1,1s1-0.447,1-1V32C32,31.447,31.552,31,31,31z"></path> <path d="M25.5,11c3.23,0,6.5-1.202,6.5-3.5S28.73,4,25.5,4S19,5.202,19,7.5S22.27,11,25.5,11z M25.5,6C28.423,6,30,7.064,30,7.5 S28.423,9,25.5,9S21,7.936,21,7.5S22.577,6,25.5,6z"></path> <path d="M36.5,27c3.23,0,6.5-1.202,6.5-3.5S39.73,20,36.5,20S30,21.202,30,23.5S33.27,27,36.5,27z M36.5,22 c2.923,0,4.5,1.064,4.5,1.5S39.423,25,36.5,25S32,23.936,32,23.5S33.577,22,36.5,22z"></path> <path d="M49.986,25.913c0.03-0.538-0.034-1.083-0.206-1.607C48.332,19.868,44.493,17,40,17h-1v-6.801l-0.014-0.286 c0.03-0.538-0.034-1.083-0.206-1.607C37.574,4.609,35.979,1,31,1H20c-4.979,0-6.574,3.609-7.781,7.306 c-0.117,0.357-0.182,0.724-0.204,1.092L12,9.401V17H8c-4.979,0-6.574,3.609-7.781,7.306c-0.117,0.357-0.182,0.724-0.204,1.092 L0,25.401v17.355C0,46.199,2.801,49,6.244,49h14.513c1.644,0,3.137-0.644,4.253-1.686C26.156,48.38,27.665,49,29.244,49h14.513 C47.199,49,50,46.199,50,42.756V26.199L49.986,25.913z M40,19c3.611,0,6.705,2.326,7.879,5.927 c0.113,0.345,0.139,0.698,0.096,1.041l-0.006,0.039c-0.011,0.078-0.034,0.155-0.053,0.232c-0.016,0.066-0.033,0.132-0.055,0.196 c-0.028,0.083-0.061,0.165-0.099,0.245c-0.043,0.091-0.094,0.179-0.149,0.266c-0.037,0.059-0.074,0.117-0.116,0.173 c-0.086,0.112-0.18,0.216-0.282,0.307c-0.03,0.028-0.063,0.052-0.095,0.078c-0.101,0.082-0.208,0.155-0.32,0.217 c-0.03,0.017-0.06,0.034-0.091,0.049c-0.124,0.061-0.255,0.109-0.389,0.145c-0.027,0.007-0.052,0.018-0.079,0.025 C46.079,27.978,45.91,28,45.737,28H27.263c-0.088,0-0.176-0.017-0.263-0.028v-1.773l-0.014-0.286 c0.012-0.219,0.008-0.439-0.012-0.658c-0.004-0.041-0.012-0.082-0.017-0.123c-0.034-0.278-0.088-0.555-0.176-0.826 c-0.214-0.657-0.443-1.311-0.699-1.942c0.025-0.068,0.041-0.131,0.063-0.198c0.03-0.091,0.059-0.18,0.085-0.269 c0.042-0.143,0.078-0.281,0.11-0.417c0.018-0.076,0.037-0.152,0.052-0.226c0.031-0.148,0.056-0.288,0.078-0.425 c0.008-0.052,0.019-0.105,0.027-0.155c0.027-0.178,0.049-0.346,0.069-0.5C26.717,19,26.717,19,28,19h11H40z M14.121,8.927 C15.403,4.996,16.665,3,20,3h11c3.335,0,4.597,1.996,5.879,5.927c0.113,0.345,0.139,0.698,0.096,1.042l-0.006,0.039 c-0.011,0.077-0.033,0.153-0.052,0.23c-0.017,0.067-0.033,0.134-0.056,0.199c-0.028,0.082-0.061,0.163-0.098,0.243 c-0.044,0.092-0.094,0.181-0.15,0.268c-0.037,0.059-0.073,0.117-0.115,0.172c-0.086,0.112-0.18,0.216-0.282,0.307 c-0.03,0.028-0.063,0.052-0.095,0.078c-0.101,0.082-0.208,0.155-0.32,0.217c-0.03,0.017-0.06,0.034-0.091,0.049 c-0.124,0.061-0.255,0.109-0.389,0.145c-0.027,0.007-0.052,0.018-0.079,0.025C35.079,11.978,34.91,12,34.737,12H16.263 c-0.173,0-0.342-0.022-0.506-0.06c-0.028-0.006-0.052-0.017-0.079-0.025c-0.134-0.037-0.264-0.084-0.389-0.145 c-0.031-0.015-0.061-0.032-0.091-0.049c-0.112-0.062-0.219-0.135-0.32-0.217c-0.032-0.026-0.065-0.051-0.095-0.078 c-0.102-0.092-0.195-0.196-0.282-0.307c-0.042-0.055-0.078-0.113-0.115-0.172c-0.056-0.087-0.107-0.176-0.15-0.268 c-0.037-0.08-0.07-0.161-0.098-0.243c-0.023-0.066-0.039-0.132-0.056-0.199c-0.019-0.076-0.041-0.153-0.052-0.23l-0.006-0.039 C13.982,9.625,14.008,9.271,14.121,8.927z M14,13.347c0.052,0.033,0.11,0.058,0.164,0.089c0.086,0.05,0.173,0.098,0.262,0.142 c0.071,0.034,0.143,0.065,0.215,0.095c0.1,0.042,0.202,0.079,0.305,0.113c0.069,0.023,0.138,0.045,0.209,0.064 c0.118,0.032,0.239,0.057,0.36,0.078c0.061,0.011,0.12,0.024,0.182,0.033c0.186,0.024,0.374,0.04,0.565,0.04h18.474 c0.191,0,0.379-0.016,0.565-0.04c0.062-0.008,0.121-0.022,0.182-0.033c0.122-0.021,0.242-0.046,0.36-0.078 c0.071-0.019,0.14-0.041,0.209-0.064c0.104-0.034,0.205-0.072,0.305-0.113c0.073-0.03,0.145-0.061,0.215-0.095 c0.089-0.043,0.176-0.092,0.262-0.142c0.054-0.031,0.112-0.056,0.164-0.089V17h-9c-0.343,0-0.647,0.021-0.923,0.058 c-0.093,0.013-0.164,0.037-0.25,0.053c-0.169,0.033-0.34,0.064-0.483,0.111c-0.086,0.028-0.154,0.067-0.231,0.101 c-0.117,0.05-0.237,0.098-0.336,0.159c-0.07,0.043-0.125,0.095-0.187,0.143c-0.083,0.064-0.168,0.128-0.237,0.201 c-0.053,0.056-0.096,0.119-0.141,0.179c-0.058,0.077-0.117,0.153-0.165,0.237c-0.038,0.068-0.07,0.14-0.102,0.211 c-0.039,0.087-0.079,0.174-0.11,0.267c-0.026,0.077-0.049,0.158-0.07,0.238c-0.026,0.096-0.052,0.192-0.072,0.292 c-0.018,0.086-0.034,0.174-0.048,0.263c-0.008,0.051-0.02,0.098-0.028,0.15c-0.14-0.186-0.287-0.364-0.442-0.535 c-0.004-0.004-0.007-0.008-0.011-0.011c-0.155-0.171-0.319-0.333-0.491-0.487c-0.006-0.006-0.013-0.011-0.02-0.017 c-0.173-0.153-0.355-0.297-0.546-0.432c-0.011-0.008-0.022-0.015-0.034-0.023c-0.189-0.131-0.388-0.252-0.596-0.363 c-0.02-0.011-0.041-0.022-0.061-0.032c-0.202-0.104-0.413-0.199-0.634-0.283c-0.035-0.013-0.069-0.027-0.105-0.041 c-0.21-0.076-0.431-0.142-0.66-0.199c-0.053-0.013-0.104-0.029-0.158-0.042c-0.223-0.05-0.458-0.088-0.699-0.119 c-0.066-0.009-0.128-0.021-0.195-0.029C19.657,17.02,19.338,17,19,17h-5V13.347z M2.121,24.927C3.403,20.996,4.665,19,8,19h4h7 c0.38,0,0.726,0.033,1.055,0.085c0.084,0.013,0.164,0.032,0.245,0.049c0.248,0.051,0.483,0.117,0.704,0.199 c0.073,0.027,0.149,0.052,0.22,0.083c0.236,0.102,0.455,0.226,0.664,0.367c0.039,0.027,0.082,0.045,0.12,0.073 c0.229,0.166,0.439,0.362,0.639,0.576c0.093,0.101,0.18,0.22,0.27,0.332c0.103,0.129,0.205,0.26,0.302,0.403 c0.097,0.144,0.19,0.3,0.282,0.46c0.083,0.144,0.164,0.292,0.243,0.447c0.088,0.172,0.175,0.349,0.26,0.538 c0.088,0.196,0.174,0.402,0.259,0.615c0.061,0.152,0.123,0.297,0.184,0.461c0.146,0.392,0.29,0.799,0.434,1.239 c0.067,0.204,0.101,0.412,0.111,0.62c0.002,0.037-0.004,0.074-0.004,0.111c0,0.167-0.015,0.333-0.05,0.496 c-0.006,0.028-0.012,0.056-0.019,0.083c-0.002,0.01-0.006,0.019-0.008,0.029c-0.048,0.178-0.114,0.352-0.204,0.517 c-0.01,0.018-0.02,0.036-0.03,0.054c-0.104,0.18-0.229,0.35-0.381,0.502l-0.138,0.138c-0.011,0.01-0.023,0.019-0.034,0.028 c-0.101,0.082-0.208,0.155-0.32,0.217c-0.03,0.017-0.06,0.034-0.091,0.049c-0.124,0.061-0.255,0.109-0.389,0.145 c-0.027,0.007-0.052,0.018-0.079,0.025C23.079,27.978,22.91,28,22.737,28H4.263c-0.173,0-0.342-0.022-0.506-0.06 c-0.028-0.006-0.052-0.017-0.079-0.025c-0.134-0.037-0.264-0.084-0.389-0.145c-0.031-0.015-0.061-0.032-0.091-0.049 c-0.112-0.062-0.219-0.135-0.32-0.217c-0.032-0.026-0.065-0.051-0.095-0.078c-0.102-0.092-0.195-0.196-0.282-0.307 c-0.042-0.055-0.078-0.113-0.115-0.172c-0.056-0.087-0.107-0.176-0.15-0.268c-0.037-0.08-0.07-0.161-0.098-0.243 c-0.023-0.066-0.039-0.132-0.056-0.199c-0.019-0.076-0.041-0.153-0.052-0.23l-0.006-0.039C1.982,25.625,2.008,25.271,2.121,24.927z M20.756,47H6.244C3.904,47,2,45.097,2,42.757v-13.41c0.052,0.033,0.11,0.058,0.164,0.089c0.086,0.05,0.173,0.098,0.262,0.142 c0.071,0.034,0.143,0.065,0.215,0.095c0.1,0.042,0.202,0.079,0.305,0.113c0.069,0.023,0.138,0.045,0.209,0.064 c0.118,0.032,0.239,0.057,0.36,0.078c0.061,0.011,0.12,0.024,0.182,0.033C3.884,29.984,4.072,30,4.263,30h18.474 c0.191,0,0.379-0.016,0.565-0.04c0.062-0.008,0.121-0.022,0.182-0.033c0.122-0.021,0.242-0.046,0.36-0.078 c0.071-0.019,0.14-0.041,0.209-0.064c0.104-0.034,0.205-0.072,0.305-0.113c0.073-0.03,0.145-0.061,0.215-0.095 c0.089-0.043,0.176-0.092,0.262-0.142c0.054-0.031,0.112-0.056,0.164-0.089v13.409l0,0.004c0,0.258-0.032,0.507-0.076,0.752 c-0.019,0.102-0.047,0.202-0.073,0.302c-0.034,0.132-0.074,0.26-0.12,0.387c-0.048,0.128-0.098,0.255-0.158,0.379 c-0.036,0.075-0.078,0.146-0.119,0.218c-0.082,0.146-0.164,0.292-0.264,0.431l-0.01,0.014C23.407,46.302,22.165,47,20.756,47z M48,42.756C48,45.096,46.096,47,43.756,47H29.244c-1.146,0-2.21-0.453-3.003-1.262c0.235-0.431,0.415-0.896,0.544-1.38 c0.012-0.044,0.023-0.089,0.034-0.133c0.046-0.188,0.082-0.38,0.11-0.574c0.008-0.056,0.019-0.111,0.026-0.167 C26.982,43.244,27,43.003,27,42.757v-0.001V29.991C27.087,29.997,27.175,30,27.263,30h18.474c0.191,0,0.379-0.016,0.565-0.04 c0.062-0.008,0.121-0.022,0.182-0.033c0.122-0.021,0.242-0.046,0.36-0.078c0.071-0.019,0.14-0.041,0.209-0.064 c0.104-0.034,0.205-0.072,0.305-0.113c0.073-0.03,0.145-0.061,0.215-0.095c0.089-0.043,0.176-0.092,0.262-0.142 c0.054-0.031,0.112-0.056,0.164-0.089V42.756z"></path> </g> </g></svg>
    </div>
    <div class="MizarIsmuArief_order-form">
        <h1>Halaman Order</h1>
        <form id="MizarIsmuArief_order-form">
            <label for="name">Nama</label>
            <input type="text" id="MizarIsmuArief_name" name="name" placeholder="Masukan nama" required>

            <label for="address">Alamat</label>
            <textarea id="MizarIsmuArief_address" name="address" placeholder="Masukan Alamat Lengkap" required></textarea>

            <label for="phone">Nomor Telepon / Wa </label>
            <input type="tel" id="MizarIsmuArief_phone" name="phone" placeholder="Masukan Nomor Telepon" required>

            <div id="MizarIsmuArief_order-items"></div>
            <p id="MizarIsmuArief_total-price">Total Price: Rp. 0.000</p>
            <!-- <button type="button" onclick="openPopup()">Place Order</button> -->
            <button type="button" onclick="validateAndPlaceOrder()">Pesan Sekarang</button>
        </form>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const orderItemsContainer = document.getElementById('MizarIsmuArief_order-items');
            const totalPriceElement = document.getElementById('MizarIsmuArief_total-price');
            const orderForm = document.getElementById('MizarIsmuArief_order-form');
            const orderData = JSON.parse(localStorage.getItem('MizarIsmuArief_orderData'));
            let totalPrice = 0;

            if (orderData) {
                orderData.forEach(function (item) {
                    const orderItem = document.createElement('div');
                    orderItem.classList.add('MizarIsmuArief_order-item');

                    const itemTotalPrice = item.qty * parseFloat(item.price);
                    totalPrice += itemTotalPrice;

                    orderItem.innerHTML = `
                        <p class="MizarIsmuArief_titleOrderItem">${item.title}</p>
                        <p class="MizarIsmuArief_totalOrderItemQty">${item.qty}</p>
                        <p class="MizarIsmuArief_totalSemuaHargaOrder">Rp. ${itemTotalPrice.toFixed(2)}0</p>
                    `;

                    orderItemsContainer.appendChild(orderItem);
                });

                // Tampilkan total harga
                totalPriceElement.innerText = `Total Semua Harga: Rp. ${totalPrice.toFixed(2)}0`;
            } else {
                // Redirect back to cart or handle as needed
                window.location.href = 'cart.html';
            }

            window.validateAndPlaceOrder = function () {
                const name = document.getElementById('MizarIsmuArief_name').value;
                const address = document.getElementById('MizarIsmuArief_address').value;
                const phone = document.getElementById('MizarIsmuArief_phone').value;

                if (name && address && phone) {
                    // Semua form terisi
                    showSuccessPopup();
                } else {
                    // Ada form yang belum terisi
                    showErrorPopup("Silahkan lengkapi form terlebih dahulu");
                }
            };


            function showSuccessPopup() {
                const orderData = JSON.parse(localStorage.getItem('MizarIsmuArief_orderData'));
                const name = document.getElementById('MizarIsmuArief_name').value;
                const address = document.getElementById('MizarIsmuArief_address').value;
                const phone = document.getElementById('MizarIsmuArief_phone').value;

                const popupContainer = document.createElement('div');
                popupContainer.classList.add('popup-container');

                const popupContent = document.createElement('div');
                popupContent.classList.add('popup-content');

                // Left side for form data
                const formDataContainer = document.createElement('div');
                formDataContainer.classList.add('MizarIsmuArief_form-data-container');
                formDataContainer.innerHTML = `
                <h2>Orderan Berhasil</h2>
                <p><strong>Nama:</strong> ${name}</p>
                <p><strong>Alamat:</strong> ${address}</p>
                <p><strong>No Hp:</strong> ${phone}</p>
                `;
                popupContent.appendChild(formDataContainer);

                // Right side for order items
                const orderItemsContainer = document.createElement('div');
                orderItemsContainer.classList.add('order-items-container');

                orderData.forEach(function (item) {
                    const itemTotalPrice = item.qty * parseFloat(item.price);

                    const popupItem = document.createElement('div');
                    popupItem.classList.add('MizarIsmuArief_popup-item');
                    popupItem.innerHTML = `
                    <p class="MizarIsmuArief_titlePopUp">${item.title}</p>
                    <p class="MizarIsmuArief_totalItemQtyPopUp">${item.qty}</p>
                    <p class="MizarIsmuArief_totalSemuaHargaPopUp">Rp. ${itemTotalPrice.toFixed(2)}</p>
                    `;


                    orderItemsContainer.appendChild(popupItem);
                });

                const totalPrice = orderData.reduce((acc, item) => acc + item.qty * parseFloat(item.price), 0);
                const totalContainer = document.createElement('p');
                totalContainer.textContent = `Total Semua Harga: Rp. ${totalPrice.toFixed(2)}`;

                orderItemsContainer.appendChild(totalContainer);
                popupContent.appendChild(orderItemsContainer);

                // Add close button
                const closeButton = document.createElement('button');
                closeButton.textContent = 'Close';
                closeButton.addEventListener('click', function () {
                    // Redirect to index.html
                    window.location.href = 'index.html';
                });
                popupContent.appendChild(closeButton);

                popupContainer.appendChild(popupContent);

                // Tampilkan pop-up sukses
                document.body.appendChild(popupContainer);
            }

            function showErrorPopup(message) {
            // Tampilkan pop-up gagal
            alert(`Orderan Gagal\n${message}`);
        }
        });

        // const totalPrice = orderData.reduce((acc, item) => acc + item.qty * parseFloat(item.price), 0);
        // const totalContainer = document.createElement('p');
        // totalContainer.textContent = `Total Price: Rp. ${totalPrice.toFixed(2)}`;

        // popupContent.appendChild(totalContainer);
        // popupContainer.appendChild(popupContent);

        // // Tampilkan pop-up sukses
        // document.body.appendChild(popupContainer);
        //     }

  


        // });



    </script>
</body>

</html>